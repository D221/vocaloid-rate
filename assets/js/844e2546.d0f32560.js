"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[907],{4970:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"advanced-installation","title":"Advanced Installation","description":"Docker","source":"@site/docs/advanced-installation.md","sourceDirName":".","slug":"/advanced-installation","permalink":"/vocaloid-rate/docs/advanced-installation","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Usage Guide","permalink":"/vocaloid-rate/docs/usage-guide"},"next":{"title":"Dependencies","permalink":"/vocaloid-rate/docs/dependencies"}}');var s=i(4848),l=i(8453);const o={sidebar_position:2},r="Advanced Installation",a={},c=[{value:"Docker",id:"docker",level:2},{value:"1. Create <code>docker-compose.yml</code>",id:"1-create-docker-composeyml",level:3},{value:"2. Run the Container",id:"2-run-the-container",level:3},{value:"3. Access the Application:",id:"3-access-the-application",level:3},{value:"4. How to Stop:",id:"4-how-to-stop",level:3},{value:"Development Setup",id:"development-setup",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"1. Clone the Repository",id:"1-clone-the-repository",level:3},{value:"2. Install Dependencies",id:"2-install-dependencies",level:3},{value:"3. Running the Development Environment",id:"3-running-the-development-environment",level:3},{value:"4. Code Formatting and Linting",id:"4-code-formatting-and-linting",level:3}];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"advanced-installation",children:"Advanced Installation"})}),"\n",(0,s.jsx)(n.h2,{id:"docker",children:"Docker"}),"\n",(0,s.jsx)(n.p,{children:"For users familiar with Docker, you can run the application using the pre-built image from the GitHub Container Registry."}),"\n",(0,s.jsxs)(n.h3,{id:"1-create-docker-composeyml",children:["1. Create ",(0,s.jsx)(n.code,{children:"docker-compose.yml"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'services:\n  web:\n    image: ghcr.io/d221/vocaloid-rate:latest\n    ports:\n      - "8000:8000"\n    volumes:\n      - ./data:/app/data\n    restart: unless-stopped\n'})}),"\n",(0,s.jsx)(n.h3,{id:"2-run-the-container",children:"2. Run the Container"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker compose up -d\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-access-the-application",children:"3. Access the Application:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The application will be available at ",(0,s.jsx)(n.code,{children:"http://localhost:8000"}),".","\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Important:"})," You must use ",(0,s.jsx)(n.code,{children:"localhost"})," and not the IP address ",(0,s.jsx)(n.code,{children:"127.0.0.1"}),". Using the IP address will cause the YouTube video embeds to fail due to API security policies."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"4-how-to-stop",children:"4. How to Stop:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker compose down\n"})}),"\n",(0,s.jsx)(n.h2,{id:"development-setup",children:"Development Setup"}),"\n",(0,s.jsx)(n.p,{children:"This project uses a Python/FastAPI backend and a JavaScript frontend with a full build system. To contribute or modify the code, you will need both Python and a Node.js-compatible runtime like Node.js or Bun."}),"\n",(0,s.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Python 3.8+"})," and ",(0,s.jsx)(n.code,{children:"pip"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Node.js & npm"})," or ",(0,s.jsx)(n.strong,{children:"Bun"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"1-clone-the-repository",children:"1. Clone the Repository"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/D221/vocaloid-rate\ncd vocaloid-rate\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-install-dependencies",children:"2. Install Dependencies"}),"\n",(0,s.jsx)(n.p,{children:"First, create a Python virtual environment and install the required packages."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Create and activate a virtual environment (macOS/Linux)\npython3 -m venv venv\nsource venv/bin/activate\n\n# Create and activate a virtual environment (Windows)\npython -m venv venv\n.\\venv\\Scripts\\activate\n\n# Install Python packages\npip install -r requirements.txt\n"})}),"\n",(0,s.jsx)(n.p,{children:"Next, install the Node.js development dependencies. This will also set up the pre-commit hooks via Husky."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Using Bun (recommended)\nbun install\n\n# Or using npm\nnpm install\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-running-the-development-environment",children:"3. Running the Development Environment"}),"\n",(0,s.jsx)(n.p,{children:"The development environment requires three processes to run concurrently: the FastAPI server, the Tailwind CSS compiler, and the JavaScript minifier. The project is configured to handle all of this with a single command."}),"\n",(0,s.jsx)(n.p,{children:"Open your terminal and run:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"bun run dev\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This command uses ",(0,s.jsx)(n.code,{children:"concurrently"})," to:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Start the FastAPI backend server with ",(0,s.jsx)(n.strong,{children:"hot-reloading"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Start the Tailwind compiler in ",(0,s.jsx)(n.strong,{children:"watch mode"}),", which automatically builds and minifies ",(0,s.jsx)(n.code,{children:"app.css"})," on any change."]}),"\n",(0,s.jsxs)(n.li,{children:["Start a file watcher (",(0,s.jsx)(n.code,{children:"chokidar"}),") that automatically runs ",(0,s.jsx)(n.code,{children:"terser"})," to build and minify all ",(0,s.jsx)(n.code,{children:"*.min.js"})," files whenever you save a source ",(0,s.jsx)(n.code,{children:".js"})," file."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Once running, access the application at ",(0,s.jsx)(n.code,{children:"http://localhost:8000"}),". You can now edit your source ",(0,s.jsx)(n.code,{children:".py"}),", ",(0,s.jsx)(n.code,{children:".js"}),", and ",(0,s.jsx)(n.code,{children:"input.css"})," files, and all changes will be reflected automatically."]}),"\n",(0,s.jsx)(n.h3,{id:"4-code-formatting-and-linting",children:"4. Code Formatting and Linting"}),"\n",(0,s.jsxs)(n.p,{children:["This project uses Prettier, ESLint, and Ruff to ensure a consistent code style. These are configured to run automatically before each commit using Husky and ",(0,s.jsx)(n.code,{children:"lint-staged"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"You can also run them manually:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Format all files:"})," ",(0,s.jsx)(n.code,{children:"bun run format"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Check for linting errors:"})," ",(0,s.jsx)(n.code,{children:"bun run lint"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Attempt to automatically fix linting errors:"})," ",(0,s.jsx)(n.code,{children:"bun run lint:fix"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>r});var t=i(6540);const s={},l=t.createContext(s);function o(e){const n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);