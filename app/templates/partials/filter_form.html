<div class="mb-8 rounded-md bg-card-bg p-5 shadow-md">
  <form id="filter-form" class="flex flex-wrap items-center gap-4">
    {% if context.show_status_filter %}
      <div class="w-full md:flex md:w-fit md:items-center md:gap-2">
        <label
          for="rank_filter"
          class="mb-1 block font-bold md:mb-0 md:whitespace-nowrap"
          >Chart:</label
        >
        <select
          name="rank_filter"
          id="rank_filter"
          class="w-full rounded border border-border bg-background px-3 py-2 leading-normal text-foreground shadow-md md:w-auto"
        >
          <option
            value="ranked"
            {% if context.filters.rank_filter == 'ranked' or not context.filters.rank_filter %}selected{% endif %}
          >
            Charting
          </option>
          <option
            value="unranked"
            {% if context.filters.rank_filter == 'unranked' %}selected{% endif %}
          >
            Charted
          </option>
          <option
            value="all"
            {% if context.filters.rank_filter == 'all' %}selected{% endif %}
          >
            All
          </option>
        </select>
      </div>
    {% endif %}

    {% if context.show_rating_filter %}
      <div class="w-full md:flex md:w-fit md:items-center md:gap-2">
        <label
          for="rated_filter"
          class="mb-1 block font-bold md:mb-0 md:whitespace-nowrap"
          >Rating:</label
        >
        <select
          name="rated_filter"
          id="rated_filter"
          class="w-full rounded border border-border bg-background px-3 py-2 leading-normal text-foreground shadow-md md:w-auto"
        >
          <option
            value="all"
            {% if context.filters.rated_filter == 'all' %}selected{% endif %}
          >
            All
          </option>
          <option
            value="rated"
            {% if context.filters.rated_filter == 'rated' %}selected{% endif %}
          >
            Rated
          </option>
          <option
            value="unrated"
            {% if context.filters.rated_filter == 'unrated' %}selected{% endif %}
          >
            Unrated
          </option>
        </select>
      </div>
    {% endif %}

    <div class="w-full md:flex md:w-fit md:items-center md:gap-2">
      <input
        type="search"
        name="title_filter"
        id="title_filter"
        autocomplete="off"
        placeholder="Search by title..."
        class="w-full rounded border border-border bg-background px-3 py-2 leading-normal text-foreground shadow-md md:w-auto"
        value="{{ context.filters.title_filter or '' }}"
      />
    </div>

    <div class="w-full md:flex md:w-fit md:items-center md:gap-2">
      <input
        type="search"
        name="producer_filter"
        id="producer_filter"
        list="producers-list"
        autocomplete="off"
        placeholder="Filter by producer..."
        class="w-full rounded border border-border bg-background px-3 py-2 leading-normal text-foreground shadow-md md:w-auto"
        value="{{ context.filters.producer_filter or '' }}"
      />
      <datalist id="producers-list">
        {% for producer in context.all_producers %}
          <option value="{{ producer }}"></option>
        {% endfor %}
      </datalist>
    </div>

    <div class="w-full md:flex md:w-fit md:items-center md:gap-2">
      <input
        type="search"
        name="voicebank_filter"
        id="voicebank_filter"
        list="voicebanks-list"
        autocomplete="off"
        placeholder="Filter by voicebank..."
        class="w-full rounded border border-border bg-background px-3 py-2 leading-normal text-foreground shadow-md md:w-auto"
        value="{{ context.filters.voicebank_filter or '' }}"
      />
      <datalist id="voicebanks-list">
        {% for voicebank in context.all_voicebanks %}
          <option value="{{ voicebank }}"></option>
        {% endfor %}
      </datalist>
    </div>

    {% if context.show_pagination_limit_filter %}
      <div class="w-full md:flex md:w-fit md:items-center md:gap-2">
        <label
          for="limit_filter"
          class="mb-1 block font-bold md:mb-0 md:whitespace-nowrap"
          >Items per page:</label
        >
        <select
          name="limit"
          id="limit_filter"
          class="w-full rounded border border-border bg-background px-3 py-2 leading-normal text-foreground shadow-md md:w-auto"
        >
          <option
            value="all"
            {% if context.pagination.limit == 'all' %}selected{% endif %}
          >
            All
          </option>
          <option
            value="25"
            {% if context.pagination.limit == '25' %}selected{% endif %}
          >
            25
          </option>
          <option
            value="50"
            {% if context.pagination.limit == '50' %}selected{% endif %}
          >
            50
          </option>
          <option
            value="100"
            {% if context.pagination.limit == '100' %}selected{% endif %}
          >
            100
          </option>
        </select>
      </div>
    {% endif %}

    <button
      type="button"
      id="clear-filters-btn"
      class="cursor-pointer rounded border border-gray-text p-2 font-bold text-gray-text shadow-md ease-in-out hover:transition-colors hover:duration-200 enabled:hover:bg-gray-hover"
    >
      Clear
    </button>

    {% if context.show_scrape_button %}
      <button
        type="button"
        id="scrape-button"
        class="cursor-pointer rounded border border-green-text p-2 font-bold text-green-text shadow-md ease-in-out hover:transition-colors hover:duration-200 enabled:hover:bg-green-hover"
      >
        Update Tracks
      </button>
      <span id="scrape-status"></span>
    {% endif %}
  </form>
</div>
