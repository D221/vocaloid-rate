{% extends "base.html" %}

{% block title %}Options - Vocaloid Rater{% endblock %}

{% block content %}
  {% set title = "Options" %}
  {% include "partials/header.html" %}

  <div class="mx-auto my-8 max-w-3xl p-4">
    <h2 class="mt-0 border-b border-border pb-1 text-2xl font-semibold">
      Backup & Restore
    </h2>

    <div class="m-4 rounded border border-border bg-card-bg p-4 shadow-md">
      <h3 class="text-1xl mt-0 border-b border-border pb-1 font-semibold">
        Backup Rated Tracks
      </h3>
      <p class="mb-2">
        Download a JSON file containing all your rated tracks, including their
        rating and any notes.
      </p>
      <button
        id="backup-button"
        class="cursor-pointer rounded border border-sky-text p-2 font-bold text-sky-text shadow-md transition-colors duration-200 ease-in-out enabled:hover:bg-sky-hover disabled:cursor-not-allowed disabled:opacity-50"
      >
        Download Backup
      </button>
    </div>

    <div class="m-4 rounded border border-border bg-card-bg p-4 shadow-md">
      <h3 class="text-1xl mt-0 border-b border-border pb-1 font-semibold">
        Restore Ratings
      </h3>
      <p class="mb-2">
        Upload a JSON backup file to restore your ratings. If a track from the
        backup does not exist in the database, it will be added.
      </p>
      <input
        type="file"
        id="restore-file-input"
        accept=".json"
        class="rounded border border-sky-text shadow-md duration-200 ease-in-out file:border-r file:border-sky-text file:p-2 file:font-bold file:text-sky-text hover:file:cursor-pointer hover:file:bg-sky-hover"
      />
      <button
        id="restore-button"
        class="cursor-pointer rounded border border-sky-text p-2 font-bold text-sky-text shadow-md transition-colors duration-200 ease-in-out enabled:hover:bg-sky-hover disabled:cursor-not-allowed disabled:opacity-50"
        disabled
      >
        Upload and Restore
      </button>
      <div class="spinner" id="restore-spinner"></div>
      <p id="restore-status" style="margin-top: 1rem; font-weight: bold;"></p>
    </div>

    <div class="m-4 rounded border border-border bg-card-bg p-4 shadow-md">
      <h3 class="text-1xl mt-0 border-b border-border pb-1 font-semibold">
        Default Page Size
      </h3>
      <p class="mb-2">
        Set the default number of tracks to display per page on the main list.
      </p>
      <select
        id="default-page-size-select"
        class="rounded border border-border bg-card-bg p-2 text-foreground shadow-md"
      >
        <option value="all">All</option>
        <option value="25">25</option>
        <option value="50">50</option>
        <option value="100">100</option>
      </select>
    </div>
  </div>

  <script src="{{ url_for('static', path='js/options.js') }}"></script>
{% endblock %}
